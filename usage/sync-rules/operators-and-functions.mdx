---
title: "Operators and Functions"
description: "Operators and functions can be used to transform columns/fields before being synced to a client."
---

When filtering on parameters (token or [client parameters](/usage/sync-rules/advanced-topics/client-parameters) in the case of [parameter queries](/usage/sync-rules/parameter-queries), and bucket parameters in the case of [data queries](/usage/sync-rules/data-queries)), operators can only be used in a limited way. Typically only `=` , `IN` and `IS NULL` are allowed on the parameters, and special limits apply when combining clauses with `AND`, `OR` or `NOT`. The exact rules are still being refined — make sure to validate and test the Sync Rules.

When transforming output columns/fields, or filtering on row/document values, those restrictions do not apply.

If a specific operator or function is needed, please [contact us](/resources/contact-us) so that we can consider inclusion in our roadmap.

Some fundamental restrictions on these operators and functions are:

1. It must be deterministic — no random or time-based functions.
2. No external state can be used.
3. It must operate on data available within a single row/document. For example, no aggregation functions allowed.

### Operators

| Category           | Operators                      | Notes                                                                                                                                                                                                                                                                                        |
| ------------------ | ------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Comparison         | \= != < \> \<= \>=              | If either parameter is null, this evaluates to null.                                                                                                                                                                                                                                         |
| Null               | IS NULL, IS NOT NULL           |                                                                                                                                                                                                                                                                                              |
| Mathematical       | + \- \* /                      |                                                                                                                                                                                                                                                                                              |
| Logical            | AND, OR, NOT                   |                                                                                                                                                                                                                                                                                              |
| Cast               | CAST(x AS type) x :: type      | Cast to text, numeric, integer, real or blob                                                                                                                                                                                                                                                 |
| JSON               | json ->> 'path' json -> 'path' | \-> returns the value as a JSON string, while \->> returns the extracted value. The path can start with $., or just contain the key directly.                                                                                                                                                |
| Text concatenation | \||                            | Joins two text values together.                                                                                                                                                                                                                                                              |
| Arrays             | \<left> IN \<right>              | Returns true if the left value is present in the right JSON array.In data queries, only the left value may be a bucket parameter. In parameter queries, the left or right value may be a bucket parameter. Differs from the SQLite operator in that it can be used directly on a JSON array. |

### Functions

| Function                                                                         | Description                                                                                                                                                                                                                                                                                                                                                                                      |
| -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| [upper(text)](https://www.sqlite.org/lang%5Fcorefunc.html#upper)                 | Convert text to upper case.                                                                                                                                                                                                                                                                                                                                                                      |
| [lower(text)](https://www.sqlite.org/lang%5Fcorefunc.html#lower)                 | Convert text to lower case.                                                                                                                                                                                                                                                                                                                                                                      |
| [hex(data)](https://www.sqlite.org/lang%5Fcorefunc.html#hex)                     | Convert blob or text data to hexadecimal text.                                                                                                                                                                                                                                                                                                                                                   |
| base64(data)                                                                     | Convert blob or text data to base64 text.                                                                                                                                                                                                                                                                                                                                                        |
| [length(data)](https://www.sqlite.org/lang%5Fcorefunc.html#length)               | For text, return the number of characters. For blob, return the number of bytes. For null, return null. For integer and real, convert to text and return the number of characters.                                                                                                                                                                                                               |
| [typeof(data)](https://www.sqlite.org/lang%5Fcorefunc.html#typeof)               | text, integer, real, blob or null                                                                                                                                                                                                                                                                                                                                                                |
| [json\_extract(data, path)](https://www.sqlite.org/json1.html#jex)               | Same as \->> operator, but the path must start with $.                                                                                                                                                                                                                                                                                                                                           |
| [json\_array\_length(data)](https://www.sqlite.org/json1.html#jarraylen)         | Given a JSON array (as text), returns the length of the array.if data is null, returns null. If the value is not a JSON array, returns 0.                                                                                                                                                                                                                                                        |
| [json\_valid(data)](https://www.sqlite.org/json1.html#jvalid)                    | Returns 1 if the data can be parsed as JSON, 0 otherwise.                                                                                                                                                                                                                                                                                                                                        |
| [ifnull(x,y)](https://www.sqlite.org/lang%5Fcorefunc.html#ifnull)                | Returns x if non-null, otherwise returns y.                                                                                                                                                                                                                                                                                                                                                      |
| [unixepoch(datetime, \[modifier\])](https://www.sqlite.org/lang%5Fdatefunc.html) | Returns a datetime as Unix timestamp. If modifier is "subsec", the result is a floating point number, with milliseconds including in the fraction. The datetime argument is required - this function cannot be used to get the current time.                                                                                                                                                     |
| [datetime(datetime, \[modifier\])](https://www.sqlite.org/lang%5Fdatefunc.html)  | Returns a datetime as a datetime string, in the format YYYY-MM-DD HH:MM:SS. If the specifier is "subsec", milliseconds are also included. If the modifier is "unixepoch", the argument is interpreted as a unix timestamp. Both modifiers can be included: datetime(timestamp, 'unixepoch', 'subsec'). The datetime argument is required - this function cannot be used to get the current time. |
| [ST\_AsGeoJSON(geometry)](https://postgis.net/docs/ST%5FAsGeoJSON.html)          | Convert [PostGIS](https://postgis.net/) (in Postgres) geometry from WKB to GeoJSON. Combine with JSON operators to extract specific fields.                                                                                                                                                                                                                                                      |
| [ST\_AsText(geometry)](https://postgis.net/docs/ST%5FAsText.html)                | Convert [PostGIS](https://postgis.net/) (in Postgres) geometry from WKB to Well-Known Text (WKT).                                                                                                                                                                                                                                                                                                |
| [ST\_X(point)](https://postgis.net/docs/ST%5FX.html)                             | Get the X coordinate of a [PostGIS](https://postgis.net/) point (in Postgres)                                                                                                                                                                                                                                                                                                                    |
| [ST\_Y(point)](https://postgis.net/docs/ST%5FY.html)                             | Get the Y coordinate of a [PostGIS](https://postgis.net/) point (in Postgres)                                                                                                                                                                                                                                                                                                                    |

Most of these functions are based on the [built-in SQLite functions](https://www.sqlite.org/lang%5Fcorefunc.html) and [SQLite JSON functions](https://www.sqlite.org/json1.html).
